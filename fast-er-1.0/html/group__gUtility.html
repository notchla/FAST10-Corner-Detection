<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>FAST-ER: Utility functions.</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>Utility functions.</h1>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gUtility.html#g9a3d9e758aa01b90e2067121300f17d2">fatal</a>(E, S,...)&nbsp;&nbsp;&nbsp;vfatal((E), (S), (tag::Fmt,## __VA_ARGS__))</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">vector&lt; string &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gUtility.html#g21228818f6b97bdd706d7980b74a2966">split</a> (const string &amp;s)</td></tr>

<tr><td class="memTemplParams" nowrap colspan="2">template&lt;class C&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">C&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__gUtility.html#g0bf9c422dc119144efbc619a0fcdd81b">ato</a> (const string &amp;s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gUtility.html#g2444e6069375ebf77ae5cdd904d2dd4e">sq</a> (double d)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">vector&lt; int &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gUtility.html#g970369162ed8b57ba3bdfc8a432e7721">range</a> (int num)</td></tr>

<tr><td class="memTemplParams" nowrap colspan="2">template&lt;class C&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__gUtility.html#g4a38fb954301d16e2b9da85d1ffc1543">vfatal</a> (int err, const string &amp;s, const C &amp;list)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">istream &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gUtility.html#g60475eb552a5e79013efe781d17acd46">operator&gt;&gt;</a> (istream &amp;i, array&lt; float, 2 &gt; &amp;f)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">array&lt; float, 2 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gUtility.html#g862ac1212c48e0f7fc7c67751229a0c4">Arr</a> (const Vector&lt; 2 &gt; &amp;vec)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Matrix&lt; 3 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gUtility.html#g1de9ef7b9c3fbfb974d1153b70c96eb6">invert</a> (const Matrix&lt; 3 &gt; &amp;m)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gUtility.html#g6b14f4dd6907dad8159e6b298ae5091d">draw_offset_list</a> (const vector&lt; ImageRef &gt; &amp;<a class="el" href="group__gTree.html#gba2611edc3d025abd67eb4d57c5e9672">offsets</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gUtility.html#g8a8bdc1bf5bdcc37b2a610a90644194a">draw_offsets</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">CVD::ImageRef&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gUtility.html#g4a600719fba70d96ffb0dac6466a7659">ir_rounded</a> (const tag::array&lt; float, 2 &gt; &amp;v)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="g9a3d9e758aa01b90e2067121300f17d2"></a><!-- doxytag: member="learn_fast_tree.cc::fatal" ref="g9a3d9e758aa01b90e2067121300f17d2" args="(E, S,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define fatal          </td>
          <td>(</td>
          <td class="paramtype">E,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">S,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"> <em>...</em>&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;vfatal((E), (S), (tag::Fmt,## __VA_ARGS__))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Print an error message and the exit. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>E</em>&nbsp;</td><td>Error code </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>S</em>&nbsp;</td><td>Format string </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="learn__fast__tree_8cc-source.html#l00125">125</a> of file <a class="el" href="learn__fast__tree_8cc-source.html">learn_fast_tree.cc</a>.</p>

<p>Referenced by <a class="el" href="learn__fast__tree_8cc-source.html#l00313">find_best_split()</a>, <a class="el" href="learn__fast__tree_8cc-source.html#l00246">load_features()</a>, <a class="el" href="learn__fast__tree_8cc-source.html#l00692">main()</a>, and <a class="el" href="learn__fast__tree_8cc-source.html#l00203">datapoint&lt; FEATURE_SIZE &gt;::pack_trits()</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g21228818f6b97bdd706d7980b74a2966"></a><!-- doxytag: member="faster_tree.cc::split" ref="g21228818f6b97bdd706d7980b74a2966" args="(const string &amp;s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;string&gt; split           </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tokenise a string. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>String to be split </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Tokens </dd></dl>

<p>Definition at line <a class="el" href="faster__tree_8cc-source.html#l00249">249</a> of file <a class="el" href="faster__tree_8cc-source.html">faster_tree.cc</a>.</p>

<p>Referenced by <a class="el" href="faster__tree_8cc-source.html#l00287">load_a_tree()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00250"></a>00250 {
<a name="l00251"></a>00251     istringstream i(s);
<a name="l00252"></a>00252 
<a name="l00253"></a>00253     vector&lt;string&gt; v;
<a name="l00254"></a>00254 
<a name="l00255"></a>00255     <span class="keywordflow">while</span>(!i.eof())
<a name="l00256"></a>00256     {
<a name="l00257"></a>00257         <span class="keywordtype">string</span> s;
<a name="l00258"></a>00258         i &gt;&gt; s;
<a name="l00259"></a>00259         <span class="keywordflow">if</span>(s != <span class="stringliteral">""</span>)
<a name="l00260"></a>00260             v.push_back(s);
<a name="l00261"></a>00261     }
<a name="l00262"></a>00262     <span class="keywordflow">return</span> v;
<a name="l00263"></a>00263 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g0bf9c422dc119144efbc619a0fcdd81b"></a><!-- doxytag: member="faster_tree.cc::ato" ref="g0bf9c422dc119144efbc619a0fcdd81b" args="(const string &amp;s)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">C ato           </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
String to some class. 
<p>
Name modelled on atoi. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>String to parse </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>class the string was parsed in to. </dd></dl>

<p>Definition at line <a class="el" href="faster__tree_8cc-source.html#l00269">269</a> of file <a class="el" href="faster__tree_8cc-source.html">faster_tree.cc</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00270"></a>00270 {
<a name="l00271"></a>00271     istringstream i(s);
<a name="l00272"></a>00272     C c;
<a name="l00273"></a>00273     i &gt;&gt; c;
<a name="l00274"></a>00274 
<a name="l00275"></a>00275     <span class="keywordflow">if</span>(i.bad())
<a name="l00276"></a>00276         <span class="keywordflow">throw</span>   <a class="code" href="structParseError.html" title="A named symbol to throw in the case that tree deserialization fails with a parse...">ParseError</a>();
<a name="l00277"></a>00277     
<a name="l00278"></a>00278     <span class="keywordflow">return</span> c;
<a name="l00279"></a>00279 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g2444e6069375ebf77ae5cdd904d2dd4e"></a><!-- doxytag: member="learn_detector.cc::sq" ref="g2444e6069375ebf77ae5cdd904d2dd4e" args="(double d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double sq           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>d</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Square a number. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>d</em>&nbsp;</td><td>Number to square </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>$d^2$ </dd></dl>

<p>Definition at line <a class="el" href="learn__detector_8cc-source.html#l00100">100</a> of file <a class="el" href="learn__detector_8cc-source.html">learn_detector.cc</a>.</p>

<p>Referenced by <a class="el" href="learn__detector_8cc-source.html#l00258">learn_detector()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00101"></a>00101 {
<a name="l00102"></a>00102     <span class="keywordflow">return</span> d*d;
<a name="l00103"></a>00103 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g970369162ed8b57ba3bdfc8a432e7721"></a><!-- doxytag: member="learn_detector.cc::range" ref="g970369162ed8b57ba3bdfc8a432e7721" args="(int num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;int&gt; range           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Populate a std::vector with the numbers 0,1,. 
<p>
..,num <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>Size if the range </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the populated vector. </dd></dl>

<p>Definition at line <a class="el" href="learn__detector_8cc-source.html#l00110">110</a> of file <a class="el" href="learn__detector_8cc-source.html">learn_detector.cc</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00111"></a>00111 {
<a name="l00112"></a>00112     vector&lt;int&gt; r;
<a name="l00113"></a>00113 
<a name="l00114"></a>00114     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i &lt; num; i++)
<a name="l00115"></a>00115         r.push_back(i);
<a name="l00116"></a>00116     <span class="keywordflow">return</span> r;
<a name="l00117"></a>00117 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g4a38fb954301d16e2b9da85d1ffc1543"></a><!-- doxytag: member="learn_fast_tree.cc::vfatal" ref="g4a38fb954301d16e2b9da85d1ffc1543" args="(int err, const string &amp;s, const C &amp;list)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void vfatal           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const C &amp;&nbsp;</td>
          <td class="paramname"> <em>list</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Print an error message and the exit, using Tuple stype VARARGS. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>err</em>&nbsp;</td><td>Error code </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>Format string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>list</em>&nbsp;</td><td>Argument list </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="learn__fast__tree_8cc-source.html#l00131">131</a> of file <a class="el" href="learn__fast__tree_8cc-source.html">learn_fast_tree.cc</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00132"></a>00132 {
<a name="l00133"></a>00133     vfPrintf(cerr, s + <span class="stringliteral">"\n"</span>, list);
<a name="l00134"></a>00134     exit(err);
<a name="l00135"></a>00135 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g60475eb552a5e79013efe781d17acd46"></a><!-- doxytag: member="load_data.cc::operator&gt;&gt;" ref="g60475eb552a5e79013efe781d17acd46" args="(istream &amp;i, array&lt; float, 2 &gt; &amp;f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">istream&amp; operator&gt;&gt;           </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&nbsp;</td>
          <td class="paramname"> <em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&lt; float, 2 &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>f</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Load an array from an istream. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>Stream to load from </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>array to load in to </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="load__data_8cc-source.html#l00088">88</a> of file <a class="el" href="load__data_8cc-source.html">load_data.cc</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00089"></a>00089 {
<a name="l00090"></a>00090     i &gt;&gt; f[0] &gt;&gt; f[1];
<a name="l00091"></a>00091     <span class="keywordflow">return</span> i;
<a name="l00092"></a>00092 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g862ac1212c48e0f7fc7c67751229a0c4"></a><!-- doxytag: member="load_data.cc::Arr" ref="g862ac1212c48e0f7fc7c67751229a0c4" args="(const Vector&lt; 2 &gt; &amp;vec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">array&lt;float, 2&gt; Arr           </td>
          <td>(</td>
          <td class="paramtype">const Vector&lt; 2 &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>vec</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert a vector in to an array. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>vec</em>&nbsp;</td><td>Vector to convert </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="load__data_8cc-source.html#l00097">97</a> of file <a class="el" href="load__data_8cc-source.html">load_data.cc</a>.</p>

<p>Referenced by <a class="el" href="load__data_8cc-source.html#l00238">load_warps_vgg()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00098"></a>00098 {
<a name="l00099"></a>00099     <span class="keywordflow">return</span> array&lt;float, 2&gt;((TupleHead, vec[0], vec[1]));
<a name="l00100"></a>00100 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g1de9ef7b9c3fbfb974d1153b70c96eb6"></a><!-- doxytag: member="load_data.cc::invert" ref="g1de9ef7b9c3fbfb974d1153b70c96eb6" args="(const Matrix&lt; 3 &gt; &amp;m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Matrix&lt;3&gt; invert           </td>
          <td>(</td>
          <td class="paramtype">const Matrix&lt; 3 &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>m</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Invert a matrix. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>m</em>&nbsp;</td><td>Matrix to invert </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="load__data_8cc-source.html#l00223">223</a> of file <a class="el" href="load__data_8cc-source.html">load_data.cc</a>.</p>

<p>Referenced by <a class="el" href="faster__tree_8h-source.html#l00318">tree_element::detect_corner()</a>, <a class="el" href="load__data_8cc-source.html#l00238">load_warps_vgg()</a>, and <a class="el" href="faster__tree_8h-source.html#l00092">tree_element::make_fast_detector()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00224"></a>00224 {
<a name="l00225"></a>00225     LU&lt;3&gt; i(m);
<a name="l00226"></a>00226     <span class="keywordflow">return</span> i.get_inverse();
<a name="l00227"></a>00227 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g6b14f4dd6907dad8159e6b298ae5091d"></a><!-- doxytag: member="offsets.cc::draw_offset_list" ref="g6b14f4dd6907dad8159e6b298ae5091d" args="(const vector&lt; ImageRef &gt; &amp;offsets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void draw_offset_list           </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; ImageRef &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>offsets</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pretty print some offsets to stdout. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>offsets</em>&nbsp;</td><td>List of offsets to pretty-print. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="offsets_8cc-source.html#l00091">91</a> of file <a class="el" href="offsets_8cc-source.html">offsets.cc</a>.</p>

<p>Referenced by <a class="el" href="offsets_8cc-source.html#l00201">draw_offsets()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00092"></a>00092 {
<a name="l00093"></a>00093 
<a name="l00094"></a>00094     cout &lt;&lt; <span class="stringliteral">"Allowed offsets: "</span> &lt;&lt; <a class="code" href="group__gTree.html#gba2611edc3d025abd67eb4d57c5e9672" title="Actual x,y offset of the offset numbers in the different available orientations.">offsets</a>.size() &lt;&lt; endl;
<a name="l00095"></a>00095 
<a name="l00096"></a>00096     ImageRef min, max;
<a name="l00097"></a>00097     min.x = *min_element(member_iterator(<a class="code" href="group__gTree.html#gba2611edc3d025abd67eb4d57c5e9672" title="Actual x,y offset of the offset numbers in the different available orientations.">offsets</a>.begin(), &amp;ImageRef::x), member_iterator(<a class="code" href="group__gTree.html#gba2611edc3d025abd67eb4d57c5e9672" title="Actual x,y offset of the offset numbers in the different available orientations.">offsets</a>.end(), &amp;ImageRef::x));
<a name="l00098"></a>00098     max.x = *max_element(member_iterator(<a class="code" href="group__gTree.html#gba2611edc3d025abd67eb4d57c5e9672" title="Actual x,y offset of the offset numbers in the different available orientations.">offsets</a>.begin(), &amp;ImageRef::x), member_iterator(<a class="code" href="group__gTree.html#gba2611edc3d025abd67eb4d57c5e9672" title="Actual x,y offset of the offset numbers in the different available orientations.">offsets</a>.end(), &amp;ImageRef::x));
<a name="l00099"></a>00099     min.y = *min_element(member_iterator(<a class="code" href="group__gTree.html#gba2611edc3d025abd67eb4d57c5e9672" title="Actual x,y offset of the offset numbers in the different available orientations.">offsets</a>.begin(), &amp;ImageRef::y), member_iterator(<a class="code" href="group__gTree.html#gba2611edc3d025abd67eb4d57c5e9672" title="Actual x,y offset of the offset numbers in the different available orientations.">offsets</a>.end(), &amp;ImageRef::y));
<a name="l00100"></a>00100     max.y = *max_element(member_iterator(<a class="code" href="group__gTree.html#gba2611edc3d025abd67eb4d57c5e9672" title="Actual x,y offset of the offset numbers in the different available orientations.">offsets</a>.begin(), &amp;ImageRef::y), member_iterator(<a class="code" href="group__gTree.html#gba2611edc3d025abd67eb4d57c5e9672" title="Actual x,y offset of the offset numbers in the different available orientations.">offsets</a>.end(), &amp;ImageRef::y));
<a name="l00101"></a>00101 
<a name="l00102"></a>00102     cout &lt;&lt; print &lt;&lt; min &lt;&lt;max &lt;&lt; endl;
<a name="l00103"></a>00103 
<a name="l00104"></a>00104     Image&lt;int&gt; o(max-min+ImageRef(1,1), -1);
<a name="l00105"></a>00105     <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i &lt;<a class="code" href="group__gTree.html#gba2611edc3d025abd67eb4d57c5e9672" title="Actual x,y offset of the offset numbers in the different available orientations.">offsets</a>.size(); i++)
<a name="l00106"></a>00106         o[<a class="code" href="group__gTree.html#gba2611edc3d025abd67eb4d57c5e9672" title="Actual x,y offset of the offset numbers in the different available orientations.">offsets</a>[i] -min] = i;
<a name="l00107"></a>00107 
<a name="l00108"></a>00108     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> y=0; y &lt; o.size().y; y++)
<a name="l00109"></a>00109     {
<a name="l00110"></a>00110         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> x=0; x &lt; o.size().x; x++)
<a name="l00111"></a>00111             cout &lt;&lt; <span class="stringliteral">"+------"</span>;
<a name="l00112"></a>00112         cout &lt;&lt; <span class="stringliteral">"+"</span>&lt;&lt; endl;
<a name="l00113"></a>00113 
<a name="l00114"></a>00114         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> x=0; x &lt; o.size().x; x++)
<a name="l00115"></a>00115             cout &lt;&lt; <span class="stringliteral">"|      "</span>;
<a name="l00116"></a>00116         cout &lt;&lt; <span class="stringliteral">"|"</span>&lt;&lt; endl;
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 
<a name="l00119"></a>00119         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> x=0; x &lt; o.size().x; x++)
<a name="l00120"></a>00120         {
<a name="l00121"></a>00121             <span class="keywordflow">if</span>(o[y][x] &gt;= 0)
<a name="l00122"></a>00122                 cout &lt;&lt; <span class="stringliteral">"|  "</span> &lt;&lt; setw(2) &lt;&lt; o[y][x] &lt;&lt; <span class="stringliteral">"  "</span>;
<a name="l00123"></a>00123             <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ImageRef(x, y) == o.size() / 2)
<a name="l00124"></a>00124                 cout &lt;&lt; <span class="stringliteral">"|   "</span> &lt;&lt; <span class="stringliteral">"#"</span> &lt;&lt; <span class="stringliteral">"  "</span>;
<a name="l00125"></a>00125             <span class="keywordflow">else</span> 
<a name="l00126"></a>00126                 cout &lt;&lt; <span class="stringliteral">"|      "</span>;
<a name="l00127"></a>00127         }
<a name="l00128"></a>00128         cout &lt;&lt;  <span class="stringliteral">"|"</span> &lt;&lt; endl;
<a name="l00129"></a>00129 
<a name="l00130"></a>00130         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> x=0; x &lt; o.size().x; x++)
<a name="l00131"></a>00131             cout &lt;&lt; <span class="stringliteral">"|      "</span>;
<a name="l00132"></a>00132         cout &lt;&lt; <span class="stringliteral">"|"</span>&lt;&lt; endl;
<a name="l00133"></a>00133     }
<a name="l00134"></a>00134 
<a name="l00135"></a>00135     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> x=0; x &lt; o.size().x; x++)
<a name="l00136"></a>00136         cout &lt;&lt; <span class="stringliteral">"+------"</span>;
<a name="l00137"></a>00137     cout &lt;&lt; <span class="stringliteral">"+"</span>&lt;&lt; endl;
<a name="l00138"></a>00138 
<a name="l00139"></a>00139     cout &lt;&lt; endl;
<a name="l00140"></a>00140 
<a name="l00141"></a>00141 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g8a8bdc1bf5bdcc37b2a610a90644194a"></a><!-- doxytag: member="offsets.cc::draw_offsets" ref="g8a8bdc1bf5bdcc37b2a610a90644194a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void draw_offsets           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Prettyprints the contents of <a class="el" href="group__gTree.html#gba2611edc3d025abd67eb4d57c5e9672" title="Actual x,y offset of the offset numbers in the different available orientations.">offsets</a>. 
<p>

<p>Definition at line <a class="el" href="offsets_8cc-source.html#l00201">201</a> of file <a class="el" href="offsets_8cc-source.html">offsets.cc</a>.</p>

<p>Referenced by <a class="el" href="learn__detector_8cc-source.html#l00522">run_learn_detector()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00202"></a>00202 {
<a name="l00203"></a>00203     <span class="comment">//Print the offsets out.    </span>
<a name="l00204"></a>00204     <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i &lt; 8; i++)
<a name="l00205"></a>00205     {
<a name="l00206"></a>00206         cout &lt;&lt; <span class="stringliteral">"Offsets "</span> &lt;&lt; i &lt;&lt; endl;
<a name="l00207"></a>00207         <a class="code" href="group__gUtility.html#g6b14f4dd6907dad8159e6b298ae5091d" title="Pretty print some offsets to stdout.">draw_offset_list</a>(<a class="code" href="group__gTree.html#gba2611edc3d025abd67eb4d57c5e9672" title="Actual x,y offset of the offset numbers in the different available orientations.">offsets</a>[i]);   
<a name="l00208"></a>00208         cout &lt;&lt; endl;
<a name="l00209"></a>00209     }
<a name="l00210"></a>00210 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="g4a600719fba70d96ffb0dac6466a7659"></a><!-- doxytag: member="utility.h::ir_rounded" ref="g4a600719fba70d96ffb0dac6466a7659" args="(const tag::array&lt; float, 2 &gt; &amp;v)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CVD::ImageRef ir_rounded           </td>
          <td>(</td>
          <td class="paramtype">const tag::array&lt; float, 2 &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>v</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert a float array into an image co-ordinate. 
<p>
Numbers are rounded <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>v</em>&nbsp;</td><td>The array to convert </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="utility_8h-source.html#l00030">30</a> of file <a class="el" href="utility_8h-source.html">utility.h</a>.</p>

<p>Referenced by <a class="el" href="learn__detector_8cc-source.html#l00176">compute_repeatability()</a>, <a class="el" href="load__data_8cc-source.html#l00384">prune_warps()</a>, and <a class="el" href="offsets_8cc-source.html#l00066">transform_offsets()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00031"></a>00031 {
<a name="l00032"></a>00032     <span class="keywordflow">return</span> CVD::ImageRef(
<a name="l00033"></a>00033   static_cast&lt;int&gt;(v[0] &gt; 0.0 ? v[0] + 0.5 : v[0] - 0.5),
<a name="l00034"></a>00034   static_cast&lt;int&gt;(v[1] &gt; 0.0 ? v[1] + 0.5 : v[1] - 0.5));
<a name="l00035"></a>00035 }
</pre></div>
<p>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Nov 5 10:25:01 2008 for FAST-ER by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
