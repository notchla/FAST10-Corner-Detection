<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>FAST-ER: Main Page</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li class="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>FAST-ER Documentation</h1>
<p>
<h3 align="center">1.0 </h3><h2><a class="anchor" name="gCopy">
Copyright and License</a></h2>
The software is Copyright (c) Edward Rosten and Los Alamos National Laboratory, 2008. There are no restrictions on using this software and it may only be redistributed under the terms of the GNU General Public License (a copy of which is included in the file LICENSE). No copyright is claimed on the output generated by these programs. The files in the fast_trees directory are generated trivially from the programs included herein, and so are not under copyright.<h2><a class="anchor" name="Introduction">
Introduction</a></h2>
This project contains a suite of programs to generate an optimized corner detector, test corner detectors on a variety of datasets, generate MATLAB and optimized C++ code, and some utilities for handling the datasets. The project also includes ready to use pre-generated trees in the <code>fast_trees</code> directory. Generated trees in intermediate, C++ and MATLAB form are availavle for FAST-8, FAST-9, FAST-10, FAST-11, FAST-12 and FAST-ER. In the case of FAST-ER, the FAST detector has been learned from the best FAST-ER <a class="el" href="structtree.html" title="This class represents a decision tree.">tree</a> (included as <code>best_faster.tree</code>) with features extracted from all available images in the <a class="el" href="group__gDataset.html">Cambridge dataset</a>.<p>
To make on any unix-like environment, do:<p>
<code>./configure &amp;&amp; make</code><p>
There is no install option.<p>
This will create the following executables:<ul>
<li><code><a class="el" href="learn__detector_8cc.html">learn_detector</a></code> This learns a detector from a repeatability dataset.</li><li><a class="el" href="extract__features_8cc.html"><code>extract_features</code> </a> This extracts features from an image sequence which can be turned in to a decision <a class="el" href="structtree.html" title="This class represents a decision tree.">tree</a>.</li><li><a class="el" href="learn__fast__tree_8cc.html"><code>learn_fast_tree</code> </a> This learns a FAST decision <a class="el" href="structtree.html" title="This class represents a decision tree.">tree</a>, from extracted data.</li><li>Programs for generating code from the learned <a class="el" href="structtree.html" title="This class represents a decision tree.">tree</a>, in various language/library combinations.<ul>
<li>C++ / libCVD<ul>
<li><code>fast_tree_to_cxx_score_bsearch</code> </li><li><code>fast_tree_to_cxx_score_iterate</code> </li></ul>
</li><li>MATLAB<ul>
<li><code>fast_tree_to_matlab_score_bsearch</code> </li></ul>
</li></ul>
</li><li><code><a class="el" href="test__repeatability_8cc.html">test_repeatability</a></code> Measure the repeatability of a detector.</li><li><code><a class="el" href="warp__to__png_8cc.html">warp_to_png</a></code> This converts a repeatability dataset in to a rather faster loading format.</li><li><code><a class="el" href="image__warp_8cc.html">image_warp</a></code> This program allows visual inspection of the quality of a dataset.</li><li><code><a class="el" href="fast__N__features_8cc.html">fast_N_features</a></code> This program generates all possible FAST-N features for consumption by <a class="el" href="learn__fast__tree_8cc.html"><code>learn_fast_tree</code> </a>.</li></ul>
<h2><a class="anchor" name="sRequirements">
Requirements</a></h2>
This code requires the following libraries from <a href="http://mi.eng.cam.ac.uk/~er258/cvd">http://mi.eng.cam.ac.uk/~er258/cvd</a><ul>
<li>libCVD (compiled with TooN and LAPACK support)</li><li>TooN</li><li>GVars3</li><li>tag For repeatability testing, the <a class="el" href="structSUSAN.html" title="Class wrapping the SUSAN detector.">SUSAN</a> detector can be used if the reference implementation is downloaded and placed in the directory. It is abailable from <a href="http://users.fmrib.ox.ac.uk/~steve/susan/susan2l.c">http://users.fmrib.ox.ac.uk/~steve/susan/susan2l.c</a></li></ul>
<h2><a class="anchor" name="learn_detector">
Running the system</a></h2>
The complete sequence of operations for FAST-ER is as follows: <ol>
<li>
Make the executable:<p>
<code> ./configure &amp;&amp; make </code><p>
</li>
<li>
Generating a new FAST-ER detector.<p>
An example detector (the best known detector, used in the results section of the paper) is already in <code>best_faster.tree</code> .<p>
<ol>
<li>
Set up <code>learn_detector.cfg</code>. The default parameters are good, except you will need to set up the system to point to the <a class="el" href="group__gRepeatability.html">repeatability dataset</a> you wish to use.<p>
</li>
<li>
Run the corner detector learning program<p>
<code>./learn_detector &gt; logfile</code><p>
If you run it more than once, you will probably want to alter the random seed in the configuration file.<p>
</li>
<li>
Extract a detector from the logfile<p>
<code>awk 'a&amp;&amp;!NF{exit}a;/Final tree/{a=1}' logfile &gt; new_detector.tree</code><p>
</li>
</ol>
<p>
</li>
<li>
Measuring the repeatability of a detector<p>
<code>./test_repeatability --detector faster2 --faster2 new_detector.tree &gt; new_detector_repeatability.txt</code><p>
The file <code>new_detector_repeatability.txt</code> can be plotted with almost any graph plotting program. A variety of detectors can be tested using this program. See <a class="el" href="test__repeatability_8cc.html">test_repeatability</a> for more information.<p>
</li>
<li>
Generating accelerated <a class="el" href="structtree.html" title="This class represents a decision tree.">tree</a> based detectors.<p>
<ol>
<li>
Features can be generated (for instance for FAST-N) or extracted from images, as is necessary for FAST-ER. FAST-N features can be extracted using <a class="el" href="fast__N__features_8cc.html">fast_N_features</a>:<p>
<code> ./fast_N_features --N 9 &gt; features.txt </code><p>
Alternatively, they can be extracted from images using <a class="el" href="extract__features_8cc.html">extract_features</a>:<p>
<code> ./extract_features IMAGE1 [IMAGE2 ...] &gt; features.txt </code><p>
</li>
<li>
A decision <a class="el" href="structtree.html" title="This class represents a decision tree.">tree</a> can be learned from the features using <a class="el" href="learn__fast__tree_8cc.html">learn_fast_tree</a>:<p>
<code> learn_fast_tree &lt; features.txt &gt; fast-tree.txt </code><p>
</li>
<li>
The decision <a class="el" href="structtree.html" title="This class represents a decision tree.">tree</a> needs to be turned in to source code before it can be easily used. This is performed using <code>fast_tree_to_cxx_score_bsearch</code> , <code>fast_tree_to_cxx_score_iterate</code> , or <code>fast_tree_to_matlab_score_bsearch</code> .<p>
The name describes the target language, and the method by which the score is computed (iteraton or binary search). For monotonic trees, the result is the same, but for the more general non-monotonic trees produced by FAST-ER, the results may be slightly different.<p>
These programs are used in the following way:<p>
<code> fast_tree_to_cxx_score_bsearch NAME fast-tree.txt &gt; fast_tree.cxx </code><p>
NAME specifies the name of the function. If Matlab code is generated, then it is recommended that NAME is used for an output file NAME.m.<p>
The result is a usable source code file. In the case of generated C++, the file is compatible with libCVD, and the output of the corner detector can be fed to libCVD's nonmax_suppression function. The generated code does not make use of SSE. To do this, you will have to specify weights to <a class="el" href="learn__fast__tree_8cc.html">learn_fast_tree</a> and modify <code>fast_tree_to_cxx_score_bsearch</code> to hardwire the initial questions in the <a class="el" href="structtree.html" title="This class represents a decision tree.">tree</a>.<p>
In the case of Matlab, the generated file comes with code to perform nonmaximal suppression if desired. This code is generated in straight Matlab, so corner detection will not be especially fast. </li>
</ol>
</li>
</ol>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Nov 5 10:25:01 2008 for FAST-ER by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
